!function(){window.App=Ember.Application.create({LOG_TRANSITIONS:!0})}(),function(){App.IndexRoute=Ember.Route.extend({setupController:function(a){console.log("IndexRoute: setting up Controller"),a.set("model",a.loadItineraries())}})}(),function(){App.ItineraryAltsRoute=Ember.Route.extend({redirect:function(){this.transitionTo("itinerary.list")}})}(),function(){App.ItineraryListRoute=Ember.Route.extend({model:function(a){console.log("ItineraryListRoute: getting model");var a=a||2;return a=2,App.Itinerary.find(a)?App.Itinerary.find(a):App.Itinerary.create(a)},setupController:function(a,b){a.set("model",b)}})}(),function(){App.ItineraryMapRoute=Ember.Route.extend({model:function(a){console.log("ItineraryMapRoute: getting model");var a=a||2;return a=2,App.Itinerary.find(a)?App.Itinerary.find(a):App.Itinerary.create(a)},setupController:function(a,b){console.log("ItineraryMapRoute: setting up controller"),a.set("model",b)}})}(),function(){App.PlaceRoute=Ember.Route.extend({model:function(a){return console.log("PlaceRoute: getting model"),console.log(a),App.Place.find(a)},setupController:function(a,b){console.log("PlaceRoute: setting up controller"),a.set("model",b)}})}(),function(){App.ItineraryRoute=Ember.Route.extend({model:function(a){return a=a||2,a=2,console.log("ItineraryRoute: getting model"),App.Itinerary.find(a)},setupController:function(a,b){a.set("model",b)}})}(),function(){App.Router.map(function(){this.resource("itinerary",function(){this.route("list"),this.route("map"),this.route("alts")}),this.route("activity",{path:"activity/:activity_id"}),this.route("place",{path:"place/:place_id"})})}(),function(){App.IndexController=Ember.ObjectController.extend({itineraries:[],loaded:!1,waitOn:function(){App.set("ModalType","modal-wait"),App.set("DisplayModal",!0),setTimeout(function(){App.set("DisplayModal",!1),App.Router.router.transitionTo("itinerary.list")},5e3)},submit:function(){console.log("IndexController: time to load that itinerary")},loadItineraries:function(){console.log("IndexController: loading set of Itineraries");var a=[],b=this;return this.loaded?(console.log("IndexController: Itineraries preloaded, returning"),b.get("itineraries")):($.getJSON("http://captain-planner-dev.herokuapp.com/mvp/itinerary?city=hong+kong").then(function(c){return console.log("IndexController: Itineraries loaded from server"),c.plans.forEach(function(b){a.push(b)}),b.setProperties({itineraries:a,loaded:!0}),b.get("itineraries")}),void 0)}})}(),function(){App.ItineraryListController=Ember.ObjectController.extend({submitting:!1,submit:function(){this.get("model").get("activities")}})}(),function(){App.ItineraryListController=Ember.ObjectController.extend(Ember.Evented,{editing:!1,editToggle:function(){console.log("ItineraryListController: edit state changed to "+!this.editing),this.set("editing",!this.editing)},remove:function(a){console.log("ItineraryListController: remove "+a);var b=this.get("model").get("activities");b.splice(this.getIndex(a),1),this.refresh()},down:function(a){console.log("ItineraryListController: move "+a+" down"),this.reorderArray(this.getIndex(a),1)},up:function(a){console.log("ItineraryListController: move "+a+" up"),this.reorderArray(this.getIndex(a),-1)},getIndex:function(a){for(var b=this.get("model").get("activities"),c=-1,d=0;d<b.length;d++)if(b[d].id===a){c=d;break}return c},reorderArray:function(a,b){console.log("ItineraryListController: executing reorder");var c=this.get("model").get("activities"),d=a+b;if(0>d||d>=c.length)console.log("ItineraryListController: item cannot be moved to that slot, triggering reorderFailure"),this.trigger("reorderFailure");else{console.log("ItineraryListController: moving item "+a+" to "+d);var e=c[a],f=c[d];if(e.day_section.id===f.day_section.id)console.log("same day section shift"),c[d]=c[a],c[a]=f;else if(2===f.day_section.id||4===f.day_section.id){console.log("cross mealtime shift");for(var g=d,h=f.day_section.id;c[g]&&c[g].day_section.id===h;)g+=b;if(0>g)c[a].day_section={id:1,name:"Morning"},c.unshift(c.splice(a,1)[0]);else if(g>c.length-1)c[a].day_section={id:5,name:"Evening"},c.push(c.splice(a,1)[0]);else{var i=g-b;c[a].day_section=c[g].day_section,c.splice(i,0,c.splice(a,1)[0])}}else console.log("cross day_section shift, non meal"),e.day_section=f.day_section,c[a]=e;this.get("model").set("activities",c),this.refresh()}},refresh:function(){App.Router.router.transitionTo("itinerary.map"),App.Router.router.transitionTo("itinerary.list")}})}(),function(){App.ItineraryMapController=Ember.ObjectController.extend({mapSettings:{},loaded:!1,init:function(){this._super(),console.log("ItineraryMapController: initializing"),this.mapConfig()},getMapSettings:function(){console.log("ItineraryMapController: getting map variables"),this.mapSettings.markers=[],this.mapSettings.directionsService=new google.maps.DirectionsService,this.mapSettings.directionsDisplay=new google.maps.DirectionsRenderer,this.mapSettings.myOptions={center:new google.maps.LatLng(this.get("model").activities[0].place.lat,this.get("model").activities[0].place.lng),zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP},console.dir(this.get("mapSettings"))},getMapMarkers:function(){console.log("ItineraryMapController: getting map markers");var a=this.get("mapSettings"),b=0;this.get("model").activities.forEach(function(c){b+=1;var d="../../markers/"+b+".png";latLng=new google.maps.LatLng(c.place.lat,c.place.lng);var e=new google.maps.Marker({position:latLng,icon:d,title:c.place.name,id:c.place.id});a.markers.push(e)}),this.set("mapSettings",a),console.dir(this.get("mapSettings.markers"))},mapConfig:function(){if(console.log("ItineraryMapController: mapConfig polling for model load"),this.get("model.loaded"))console.log("ItineraryMapController: mapConfig configuring map settings"),console.dir(this.get("model.loaded")),this.getMapSettings(),this.getMapMarkers(),this.set("loaded",!0);else{console.dir(this.get("model"));var a=this;setTimeout(function(){a.mapConfig()},500)}},getRoute:function(){}})}(),function(){App.PlaceController=Ember.ObjectController.extend({mapSettings:{},loaded:!1,init:function(){console.log("PlaceController: initialized"),this.mapConfig()},mapConfig:function(){if(console.log("PlaceController: mapConfig polling for model load"),this.get("model.loaded"))console.log("PlaceController: mapConfig configuring map settings"),console.dir(this.get("model.loaded")),this.getMapSettings(),this.set("loaded",!0);else{console.dir(this.get("model"));var a=this;setTimeout(function(){a.mapConfig()},500)}},getMapSettings:function(){console.log("PlaceController: getting map variables"),console.dir(this.get("model"));var a=this.get("model.lat"),b=this.get("model.lng"),c=new google.maps.LatLng(a,b);this.mapSettings.marker=new google.maps.Marker({position:c,title:this.get("model.name")}),this.mapSettings.directionsService=new google.maps.DirectionsService,this.mapSettings.directionsDisplay=new google.maps.DirectionsRenderer,this.mapSettings.myOptions={center:c,zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP},console.dir(this.get("mapSettings"))}})}(),function(){App.MapController=Ember.ObjectController.extend({mapSettings:null,init:function(){this._super(),console.log("initializing MapController")}}),App.initMap=function(){function a(){console.log("getting route, initial point should be "+b[0]);var a=new google.maps.LatLng,e=new google.maps.LatLng;a=b[0],console.log("getting route, initial point is "+a),e=b[b.length-1];for(var f=[],g=0;g<b.length;g++)f.push({location:b[g],stopover:!0});var h={origin:a,destination:e,travelMode:google.maps.DirectionsTravelMode.DRIVING,waypoints:f,optimizeWaypoints:!1};c.route(h,function(a,b){b==google.maps.DirectionsStatus.OK&&d.setDirections(a)})}console.log("initializing map");var b=[],c=new google.maps.DirectionsService,d=new google.maps.DirectionsRenderer;$("#map-canvas").css("height","350px"),$("#map-canvas").css("width","800px");var e={center:new google.maps.LatLng(App.day.items[0].place.lat,App.day.items[0].place.lng),zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP};App.map=new google.maps.Map($("#map-canvas")[0],e),d.setMap(App.map);var f=new google.maps.LatLng;App.day.items.forEach(function(a){console.log("setting map marker"),f=new google.maps.LatLng(a.place.lat,a.place.lng),console.log(f);var c=new google.maps.Marker({position:f});c.setMap(App.map),b.push(f)}),a()},App.InitMapDetail=function(){console.log("initializing detail map");var a=new google.maps.LatLng;a=new google.maps.LatLng(App.day.items[0].place.lat,App.day.items[0].place.lng);var b={center:a,zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP},c=new google.maps.Marker({position:a});App.detailMap=new google.maps.Map($("#detail-map-canvas")[0],b),c.setMap(App.detailMap)}}(),function(){App.Activity=Ember.Object.extend({place:null,day_section:null,init:function(){console.log("new Activity initialized with place "+this.place.name),this.set("place",App.Place.create(this.place)),this.set("day_section",this.day_section),App.Activity.store[this.id]=this}}),App.Activity.reopenClass({store:{},find:function(a){return console.log("App.Activity finding id "+a),this.store[a]?this.store[a]:a?!1:this.store}})}(),function(){App.Itinerary=Ember.Object.extend({loaded:!1,activities:null,init:function(){console.log("Itinerary: initializing"),this._super(),this.id=this.id||2,console.log("id "+this.id),App.Itinerary.find(this.id)?console.log("Itinerary: object at "+this.id+" already exists"):this.load(this.id)},load:function(a){var a=a||2,b=this,c=[];a=2,console.log("Itinerary: loading new itinerary at "+a),$.getJSON("http://captain-planner-dev.herokuapp.com/mvp/itinerary/2/1").then(function(d){console.log("Itinerary: Activities loaded from server"),d.activities.forEach(function(a){var b=App.Activity.create(a);console.log("Itinerary: creating activity: "),console.dir(b),c.push(b)}),b.setProperties({id:a,activities:c}),App.Itinerary.store[b.get("id")]=b,b.set("loaded",!0)})}}),App.Itinerary.reopenClass({store:{},find:function(a){return console.log("App.Itinerary finding id "+a),this.store[a]?this.store[a]:a?!1:this.store}})}(),function(){App.Place=Ember.Object.extend({loaded:!1,init:function(){console.log("new Place initialized: "+this.name),App.Place.store[this.id]=this,this.set("loaded",!0)}}),App.Place.reopenClass({store:{},find:function(a){return console.log("App.Place finding id "+a),this.store[a]?this.store[a]:a?!1:this.store}})}(),function(){App.API=Ember.Object.extend({submitItinerary:function(a){console.log("App.API: submitting Itinerary with email "+a);var b=this.compileSubmissionRequest(this.getSubmissionData(),a);$.ajax({type:"POST",url:b.url,data:b.data,success:b.success,dataType:b.dataType})},compileSubmissionRequest:function(a,b){console.log("App.API: compiling request hash"),console.dir(a);var c={},d={};c.url="http://captain-planner-dev.herokuapp.com/mvp/email",c.type="POST",c.data={},c.data.email=b,c.data.itinerary={},c.data.itinerary.days=[],c.data.itinerary.days[0]={},c.data.itinerary.days[0].date=20130301,c.data.itinerary.days[0].itinerary_day_id=1,c.data.itinerary.days[0].activities=[];for(var e=0;e<a.length;e++)console.log("App.API: iterating forloop"),d={},d.place_id=a[e].place.id,d.day_section_id=a[e].day_section.id,console.dir(d),console.dir(c),c.data.itinerary.days[0].activities.push(d);return c.success=this.requestCompleted,c.dataType="json",c.data=JSON.stringify(c.data),console.dir(c),c},getSubmissionData:function(a){return console.log("App.API: getting data"),a=a||2,App.Itinerary.find(a).activities},requestCompleted:function(a){console.log("App.API: request successful"),console.dir(a)}})}(),function(){App.fixtures=[{id:31,day_section:{id:1,name:"Morning"},place:{address:"22 Austin Rd., Tsim Sha Tsui",address_2:"Hong Kong, China",description:"Kowloon Park is easy to reach in appoximatley 30 minutes via the No 1 bus from the Star Ferry and along Nathan Road and stops across the road to the park entrance. You can spend a pleasant afternoon in the Park listening to street musicians. If you have the time please visit, you will be suprised at the history of the area.",id:164,img_url:"http://media-cdn.tripadvisor.com/media/photo-s/01/ba/76/f1/kowloon-park.jpg",lat:22.302635,lng:114.170181,name:"Kowloon Park",phone:"",website:"http://www.lcsd.gov.hk/parks/kp/en/access.php",place_category:{id:1,name:"attraction"},place_type:{id:36,name:"Parks"},place_subtypes:[{id:50,name:"",parent_place_subtype_id:null,place_type_id:36}],place_ratings:[{id:26,img_url:null,rating:4,source_name:"tripadvisor"}],reviews:[{author_name:"noblesvilletraveler",id:260,source_id:null,source_name:"tripadvisor",text:"fantastic park. can walk or run through it. has something for every age and every pace of life. While in the park you dont feel like you are in Hong Kong. It is great",written_at:"2013-04-02T00:00:00Z",review_ratings:[{aspect:null,id:260,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"kidermit",id:259,source_id:null,source_name:"tripadvisor",text:"really good central spot to use are focal point when wondering around Kowloon. Definitely visit the garden!",written_at:"2013-04-03T00:00:00Z",review_ratings:[{aspect:null,id:259,img_url:null,rating:3,source_name:"tripadvisor"}]},{author_name:"x t",id:258,source_id:null,source_name:"tripadvisor",text:"a good place to rest in a very busy part of town....walking around the park, encounter the flamingos in the small lake at night with the building reflections , people practicing tai chi, noise of the city nearby somewhat served its purpose and add to the music of the place. continue afterwards to immerse in the multitudes....",written_at:"2013-04-11T00:00:00Z",review_ratings:[{aspect:null,id:258,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"Yasmin L",id:257,source_id:null,source_name:"tripadvisor",text:"I cant believe that there are swimming pools, jungle gyms, aviaries, outstanding gardens, fountains, koi ponds and everything is kept so clean and well maintained at no entrance fee ! My favourite part was watching the elderly exercise. What a serene place. It was within walking distance from our hotel and can be accessed via MTR Subway.",written_at:"2013-04-19T00:00:00Z",review_ratings:[{aspect:null,id:257,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"Carl W",id:256,source_id:null,source_name:"tripadvisor",text:"Nice park, large open space with lots of seating. FREE WIFI which has been a godsend. Public swimming pools both inside and out",written_at:"2013-04-21T00:00:00Z",review_ratings:[{aspect:null,id:256,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"Blight01",id:255,source_id:null,source_name:"tripadvisor",text:"Easy to find on Nathan Rd. Get away from the hustle and bustle of the city. Bird aviary inside park which is beautifully kept. Pink Flamingos in lake. Many local people do Tai Chi in this park in the early mornings which is lovely to watch. Some spots in the park it is free to do Tai Chi.",written_at:"2013-04-26T00:00:00Z",review_ratings:[{aspect:null,id:255,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"kdr5358",id:254,source_id:null,source_name:"tripadvisor",text:"What a lovely park, this is a green gem in the centre of Kowloon, surrounded by masses of high rise buildings, people and traffic. There are some fabulous Banyan Trees and a large number of birds including flamingoes and other beautiful birds. There is a Cultural museum in the centre of the park, which charts the cultural heritage of Hong...",written_at:"2013-05-04T00:00:00Z",review_ratings:[{aspect:null,id:254,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"Cathy H",id:253,source_id:null,source_name:"tripadvisor",text:"We just stumbled across Kowloon Park as we were walking up Nathan Road, but it should have been on our to-do list. It is a beautiful, well-maintained park in the middle of the kowloon hustle and bustle. There is a beautiful aviary and lots of scenic views. We also saw a tai-chi group in the sculpture garden. I have no...",written_at:"2013-05-10T00:00:00Z",review_ratings:[{aspect:null,id:253,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"LouB818",id:252,source_id:null,source_name:"tripadvisor",text:"We stumbled across this little haven on our way down the busy Nathan road and were suprised by all of the facilities on offer - ended up in the outdoor pools to cool off for the afternoon ... Great place to get away for the madding crowds of the city",written_at:"2013-06-03T00:00:00Z",review_ratings:[{aspect:null,id:252,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"PoornaTravels",id:251,source_id:null,source_name:"tripadvisor",text:"In the midst of the chaotic Tsim Tsha Tshui did you know that a marvellous getaway exists? Chinese garden, aviary, swimming pool, bird watching, maze garden, sculpture trail, mini lake with peacocks cavorting on the banks...... flamingos were not visible, though pictures said they were. All of these places were located close-by. It was easy to walk from one to...",written_at:"2013-06-07T00:00:00Z",review_ratings:[{aspect:null,id:251,img_url:null,rating:4,source_name:"tripadvisor"}]}]}},{id:32,day_section:{id:2,name:"Lunch"},place:{address:"3 Hau Fook Street, Tsim Sha Tsui, Workingport Commercial Building, Shops 2-3, Ground Floor",address_2:"Hong Kong, China",description:null,id:349,img_url:"http://media-cdn.tripadvisor.com/media/photo-s/03/97/83/c5/caterking-dim-sum.jpg",lat:22.299532,lng:114.173843,name:"Caterking Dim Sum",phone:null,website:null,place_category:{id:2,name:"business"},place_type:{id:1,name:"Restaurant"},place_subtypes:[{id:94,name:"Dim Sum",parent_place_subtype_id:null,place_type_id:1}],place_ratings:[{id:361,img_url:null,rating:5,source_name:"tripadvisor"}],reviews:[{author_name:"punacoast",id:2362,source_id:null,source_name:"tripadvisor",text:"We stumbled upon this small dim sum restaurant in the TST neighborhood of our hotel one night and absolutely loved it! Located on an obscured alley street, next to a big building that houses a number of trendy international restaurants (with very long line of people waiting to get in!), this dim sum place was a hidden treasure. It offers...",written_at:"2012-09-06T00:00:00Z",review_ratings:[{aspect:null,id:2362,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"Emmelle_49",id:2361,source_id:null,source_name:"tripadvisor",text:"We went to Caterking because we wanted to eat dim-sum an were not disappointed at all! The choice of dim-sum is awesome and made us dizzy... Every single one we ordered was delicious! Try the cheese-schrimp-sticks!",written_at:"2013-02-05T00:00:00Z",review_ratings:[{aspect:null,id:2361,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"SteveCalcott",id:2360,source_id:null,source_name:"tripadvisor",text:"Not being very experienced at choosing and consuming Dim Sum, I was a little concerned I may end up with some craziness on a plate (or few) but all of the plates I ordered were great. The place was definitely popular, having to wait 10 mins to be seated (as a single diner). All in all a great experience. Tasty...",written_at:"2013-03-06T00:00:00Z",review_ratings:[{aspect:null,id:2360,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"RTWBound",id:2359,source_id:null,source_name:"tripadvisor",text:"In an overwhelming sea of restaurants, I was happy to have the guidance of Trip Advisor. This was the exact experience I was hoping for from my first meal in Hong Kong. Caterking strikes the balance between hole in the wall and more expensive full service restaurants. We spent $35 USD for dinner with a round of Tsing Tao. Fast,...",written_at:"2013-04-21T00:00:00Z",review_ratings:[{aspect:null,id:2359,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"FromBareIsland",id:2358,source_id:null,source_name:"tripadvisor",text:"Do yourself a favour and order the shrimp and cheese spring roll. Probably the best spring roll ever. Staff were great, food excellent and relatively cheap! Very cheap against Sydney, Australia standards- and far superior to the best back home.",written_at:"2013-06-01T00:00:00Z",review_ratings:[{aspect:null,id:2358,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"nicolas414",id:2357,source_id:null,source_name:"tripadvisor",text:"Great dim sum! Modern and clean restaurant, friendly service, great dim sum @ very reasonable prices. Excellent choice for a yummy lunch!",written_at:"2013-06-02T00:00:00Z",review_ratings:[{aspect:null,id:2357,img_url:null,rating:4,source_name:"tripadvisor"}]}]}},{id:33,day_section:{id:3,name:"Afternoon"},place:{address:"100 Chatham Rd S, Tsim Sha Tsui East, Kowloon",address_2:"Hong Kong, China",description:"Located along Chatham Rd, straddling the districts of Tsim Sha Tsui and Hung Hum, visitors will find the very good Hong Kong Museum of History.  There are eight permanent galleries spread out over four floors, offering hours worth of displays to see. There are often temporary exhibits, such as the important 'Centenary of China's 1911 Revolution' exhibition held during the Spring 2011, that can also been seen when visiting this museum.   ",id:119,img_url:"http://media-cdn.tripadvisor.com/media/photo-s/01/00/f0/f2/masks.jpg",lat:22.30158,lng:114.177078,name:"Hong Kong Museum of History",phone:"852-27249042",website:"http://www.lcsd.gov.hk/CE/Museum/History/index.php",place_category:{id:1,name:"attraction"},place_type:{id:27,name:"History Museums"},place_subtypes:[{id:39,name:"",parent_place_subtype_id:null,place_type_id:27}],place_ratings:[{id:6,img_url:null,rating:4.5,source_name:"tripadvisor"}],reviews:[{author_name:"QuellyA",id:60,source_id:null,source_name:"tripadvisor",text:"Going to museums has always been a part of our itinerary everytime we travel. I am especially addicted to history museums and I wasn't disappointed when I went to the HK Museum of History. I got to understand the locals and their culture through their history. The whole trip wasn't boring at all because of the many interactive potions of...",written_at:"2013-05-15T00:00:00Z",review_ratings:[{aspect:null,id:60,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"Elise5-5",id:59,source_id:null,source_name:"tripadvisor",text:"One day a week is free, but I'd gladly pay t visit this museum. It is well planned, with Hong Kong's journey through history arranged chronologically. Many of the exhibits are interactive and life sized in realism. Loved the commercial street, bun festival and life of the fishermen. Can be crowded with school children but we last visited on 'free...",written_at:"2013-05-17T00:00:00Z",review_ratings:[{aspect:null,id:59,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"Mekabe123",id:58,source_id:null,source_name:"tripadvisor",text:"This museum is just fantastic for getting to know about Hong Kong. It is organised into 8 parts and is huge. I didn't take everything in the first time so I have since revisited and I think I would go again. Could easily spend quite a few hours there. On Wednesdays it is free to enter and the rest of...",written_at:"2013-05-20T00:00:00Z",review_ratings:[{aspect:null,id:58,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"couchguru",id:57,source_id:null,source_name:"tripadvisor",text:"This museum was very useful and provided some incite into Hong Kongs history. A great taster before hitting the sites. Free on Wednesdays",written_at:"2013-05-20T00:00:00Z",review_ratings:[{aspect:null,id:57,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"918teresah",id:56,source_id:null,source_name:"tripadvisor",text:"A good place to visit on a rainy day. You need about a half day to enjoy it all. The exhibits are all interesting with lots to read and very colorful. It goes from the beginning to present day and also the occupation and the revert to China rule. As an english pensioner I really enjoyed it and learnt a...",written_at:"2013-05-22T00:00:00Z",review_ratings:[{aspect:null,id:56,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"swordfish01",id:55,source_id:null,source_name:"tripadvisor",text:"Hi Excellent Place to be, to learn the history of Hong Kong, the culture and the people. Alot of historical things to see. A definitive place to be when you are in Hong Kong. Thanks",written_at:"2013-05-26T00:00:00Z",review_ratings:[{aspect:null,id:55,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"hanshan-osaka",id:54,source_id:null,source_name:"tripadvisor",text:"This museum gives a panoramic view of Hong Kong history from four million years ago, but then stops at the high point, the handover to mainland China in 1997. That's the end of history, right? What more could you want? At some point, visitors may start to wonder why there is no more history.",written_at:"2013-05-27T00:00:00Z",review_ratings:[{aspect:null,id:54,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"558winnie",id:53,source_id:null,source_name:"tripadvisor",text:"The musuem gives you a walkthrough of Hong Kong all the way back to when earth was formed. Taking you through the important points in Hong Kong history and the cultural traditions. The musuem can be easily reached by the MTR, get off at Tsim Sha Tsiu and there will be signs for this particular exit. The Musuem is right...",written_at:"2013-05-28T00:00:00Z",review_ratings:[{aspect:null,id:53,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"Sapphire1999",id:52,source_id:null,source_name:"tripadvisor",text:"We visited the history of Hong Kong exhibit. Was very interesting. We went on a Wednesday, so it was free, although that meant there was lots of school children! The facilities here are great, nice and clean. Nice way to escape the heat for a couple of hours.",written_at:"2013-05-31T00:00:00Z",review_ratings:[{aspect:null,id:52,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"cbgfree",id:51,source_id:null,source_name:"tripadvisor",text:"Nothing to dislike. This museum was excellent in content and display. Took the visitor from 1000's of years ago to present using fabulous visual displays (think stage sets), short films, and interactive features. Truly a remarkable experience.",written_at:"2013-06-03T00:00:00Z",review_ratings:[{aspect:null,id:51,img_url:null,rating:5,source_name:"tripadvisor"}]}]}},{id:34,day_section:{id:3,name:"Afternoon"},place:{address:"Kowloon",address_2:"Hong Kong, China",description:"The best way to experience Kowloon is to willingly let the mass of humanity guide you through the main streets like Nathan Road, Jordan Road and smaller narrower streets like Mody Road or Kimberly road. The most wonderful thing about Hong Kong, to note, is that locals make up most of the population so unless you are at some expat enclave in Central, Stanley or Sai Kung, it's likely you'll always be surrounded by locals of all types. This makes it a much more real experience.\n",id:210,img_url:"http://media-cdn.tripadvisor.com/media/photo-s/01/b8/73/ae/caption.jpg",lat:22.310287,lng:114.171089,name:"Nathan Road",phone:"",website:"",place_category:{id:1,name:"attraction"},place_type:{id:18,name:"Landmarks"},place_subtypes:[{id:29,name:"Points of Interest",parent_place_subtype_id:null,place_type_id:18}],place_ratings:[{id:62,img_url:null,rating:4,source_name:"tripadvisor"}],reviews:[{author_name:"Foxykix",id:610,source_id:null,source_name:"tripadvisor",text:"This is the place where people never sleeps. No matter what time of day, there are lots of people walking. Strolling around the busy streets of Nathan Road you'll surely not miss shopping to almost every branded stores. Lots of branded stores and malls are near walking area. If you ran out of money, there are lots of money exchange...",written_at:"2013-04-22T00:00:00Z",review_ratings:[{aspect:null,id:610,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"Randy M",id:609,source_id:null,source_name:"tripadvisor",text:"Nathan Rd. is the main artery that all traffic flows. The buses are super and fast. There is also a subway system for longer journeys. The shopping is endless and of all description- mostly brand name on the southern end and more local as you go northward. If you are hotelling, you want to be near it for transport and...",written_at:"2013-04-26T00:00:00Z",review_ratings:[{aspect:null,id:609,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"Magellano81",id:608,source_id:null,source_name:"tripadvisor",text:"Is the main street of Kowloon, here at all hours of the day traffic and hundreds of people crowd the sidewalks. Personally I chose to stay at the Hotel around here being a main street full of shops and, above all, very well connected with the major means of transport for getting around, town is easy and very convenient thanks...",written_at:"2013-05-01T00:00:00Z",review_ratings:[{aspect:null,id:608,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"AvHoche",id:607,source_id:null,source_name:"tripadvisor",text:"Nathan rd is always full of surprises , I find it best to walk around at night as thats when all the traders come out. From the Indians that keep asking you to buy a suit of copy watch to the discount electronic stores. Don't be fooled by the Indian hawkers as they will just rip you off, the electronic...",written_at:"2013-05-08T00:00:00Z",review_ratings:[{aspect:null,id:607,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"Prav101",id:606,source_id:null,source_name:"tripadvisor",text:"Do take a walk along this road. There are plenty of things to buy, eat or just observe. It's one of the longest roads in HK, if not the longest. From designer goods to nightmarket ware, you can find almost anything and everything here.",written_at:"2013-05-12T00:00:00Z",review_ratings:[{aspect:null,id:606,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"yvr1",id:605,source_id:null,source_name:"tripadvisor",text:"One of the main tourist roads in Hong Kong, it goes for miles. Walk away from the water and the farther you go the more typical for locals it becomes, go the other way towards the water and you will find lots of restaurants, shopping malls, and tons of people trying to navigate the sidewalks. Don't want to walk, hop...",written_at:"2013-05-21T00:00:00Z",review_ratings:[{aspect:null,id:605,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"DragonTravelGuy",id:604,source_id:null,source_name:"tripadvisor",text:"Nathan road is one of the main streets in Kowloon side of Hong Kong. Try indian curry at the infamous chung king mansions, get haggled by tailors. It is also a street to do some fashion shopping. Theres a 100 st andrews church and hk's largest mosque along the road. HK Scout Association Headquarters is here at Jordan. Also many...",written_at:"2013-05-26T00:00:00Z",review_ratings:[{aspect:null,id:604,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"Gil M",id:603,source_id:null,source_name:"tripadvisor",text:"gone are the days hong kong offered good deals on electronic products and gsdgets. these days you can find allmost all items in any country for the same prices. what's left from the electronic bussiness in hong kong is many shops with angry salesman and sneaky, allmost criminal, sales tactics and tricks. for example, what happaned to me was that...",written_at:"2013-05-28T00:00:00Z",review_ratings:[{aspect:null,id:603,img_url:null,rating:2,source_name:"tripadvisor"}]},{author_name:"April L",id:602,source_id:null,source_name:"tripadvisor",text:"To taste how crowded and polluted HK is, Nathan Road is always a good choice because it covers a number of MTR stations. Though it is a tourist spot as mentioned in guide books or even local schools textbooks, I don't think there is a need for tourists to get there.",written_at:"2013-06-02T00:00:00Z",review_ratings:[{aspect:null,id:602,img_url:null,rating:2,source_name:"tripadvisor"}]},{author_name:"sabine88",id:601,source_id:null,source_name:"tripadvisor",text:"Everything since years shows and smells the tourist trap. Is it a must to take tourist for pigeons???",written_at:"2013-06-07T00:00:00Z",review_ratings:[{aspect:null,id:601,img_url:null,rating:2,source_name:"tripadvisor"}]}]}},{id:35,day_section:{id:4,name:"Dinner"},place:{address:"3/F, Star House",address_2:"Hong Kong, China",description:null,id:425,img_url:"http://media-cdn.tripadvisor.com/media/photo-s/02/48/07/15/succulent-beggars-chicken.jpg",lat:22.294392,lng:114.169327,name:"Peking Garden - Tsim Sha Tsui",phone:"852-27358211",website:"http://www.maximschinese.com.hk/eng/restaurant/outlet_facts.aspx?sId=43",place_category:{id:2,name:"business"},place_type:{id:1,name:"Restaurant"},place_subtypes:[{id:82,name:"Chinese",parent_place_subtype_id:null,place_type_id:1}],place_ratings:[{id:398,img_url:null,rating:4,source_name:"tripadvisor"}],reviews:[{author_name:"Henry P",id:2717,source_id:null,source_name:"tripadvisor",text:"if you are checked-in in a hotel nearby, this is a nice place to have dinner in, by yourself or with friends. there are a lot of choices. the food is good. peking duck done three-ways is always good to eat. and you can always have tsingtao beer to bring down the food.",written_at:"2013-04-22T00:00:00Z",review_ratings:[{aspect:null,id:2717,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"Colin C",id:2716,source_id:null,source_name:"tripadvisor",text:"I have eaten in both the main resturant and the smaller eating area near the entrance. I think you should only go here if you can eat in the main resturant which is easy enough, just pop up and make a reservation for later that day. If you don't then whilst the food is just the same, and that means...",written_at:"2013-04-23T00:00:00Z",review_ratings:[{aspect:null,id:2716,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"jabbruzzese",id:2715,source_id:null,source_name:"tripadvisor",text:"A fun night, relatively good value. Huge room, packed out but entertaining. The Peking duck was juicy and plenty to eat. It was great value.",written_at:"2013-04-30T00:00:00Z",review_ratings:[{aspect:null,id:2715,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"Hugo S",id:2714,source_id:null,source_name:"tripadvisor",text:"They hand-make the noodles in a performance art manner, and one duck serves 4 for dinner. (Good value at about $40 per person including a bottle of wine.) The Peking duck expertly presented and you won't leave hungry. The dining room is a barely controlled madhouse but I found it fun!",written_at:"2013-05-05T00:00:00Z",review_ratings:[{aspect:null,id:2714,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"Linda_Geoff_98",id:2713,source_id:null,source_name:"tripadvisor",text:"We wanted to find a restaurant that served Duck Pancakes so got some advice from friends who live in Hong Kong and they recommended Peking Garden. A massive restaurant filled with locals and visitors. We arrived late-ish and asked about the peking duck and we were told that we had to order a whole duck. Well between 2 people we...",written_at:"2013-05-08T00:00:00Z",review_ratings:[{aspect:null,id:2713,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"VisitorSam",id:2712,source_id:null,source_name:"tripadvisor",text:"Food was not as good as a few years ago which we visited. service was poor and waitress did not even make an effort of giving a good sevice and also no attempt to promote any of the specials dishes that is famous for the resturant. Disappointing.",written_at:"2013-05-21T00:00:00Z",review_ratings:[{aspect:null,id:2712,img_url:null,rating:2,source_name:"tripadvisor"}]},{author_name:"YTee C",id:2711,source_id:null,source_name:"tripadvisor",text:"My wife and I made a reservation for Peking Garden as it was a weekend. True enough, it was very crowded. Since there was only the 2 of us, we had 2 dishes and of that being gluttons, we ordered a whole peking duck, based on what we came to expect in Beijing. Our first dish was deep fried eel,...",written_at:"2013-05-27T00:00:00Z",review_ratings:[{aspect:null,id:2711,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"Dchoy001",id:2710,source_id:null,source_name:"tripadvisor",text:"Just left the restraunt after finding dead maggots in my jellyfish entre. By the time i saw this i had two slices already. Advised manager Brian Hung who did nothing to offer any reprieve and instead offered to replace the dish and for us or to order something else. However after seeing the maggots and losing appetite, my confidence in...",written_at:"2013-06-01T00:00:00Z",review_ratings:[{aspect:null,id:2710,img_url:null,rating:1,source_name:"tripadvisor"}]},{author_name:"Rhonda H",id:2709,source_id:null,source_name:"tripadvisor",text:"Enjoyed the food. Service was strange, if not amusing, once we were resigned to it. High turnover, rushed atmosphere. But go for the food, not service.",written_at:"2013-06-02T00:00:00Z",review_ratings:[{aspect:null,id:2709,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"Jeremy M",id:2708,source_id:null,source_name:"tripadvisor",text:"Dive into the slightly seedy shopping centre / mall just off the Star Ferry at TST and go up the flights of escalators. There are other restaurants on each floor but you want the Peking Garden! You need to pre-book a Beggars Chicken but the place is huge and full to bursting with locals who know good food when they...",written_at:"2013-06-05T00:00:00Z",review_ratings:[{aspect:null,id:2708,img_url:null,rating:5,source_name:"tripadvisor"}]}]}},{id:36,day_section:{id:5,name:"Evening"},place:{address:"No.63 Nathan Road",address_2:"Hong Kong, China",description:"Located at the heart of Tsim Sha Tsui, iSQUARE is a massive shopping and entertainment complex. Its unique design and retail concept, superb location, and innovative use of high technology and multimedia art afford the visitor an unprecedented shopping experience.",id:145,img_url:"http://media-cdn.tripadvisor.com/media/photo-s/02/ba/a3/74/i-square.jpg",lat:22.297234,lng:114.172211,name:"I Square",phone:"852-36653333",website:"http://www.isquare.hk/opening.php",place_category:{id:1,name:"attraction"},place_type:{id:43,name:"Malls"},place_subtypes:[{id:59,name:"",parent_place_subtype_id:null,place_type_id:43}],place_ratings:[{id:90,img_url:null,rating:4,source_name:"tripadvisor"}],reviews:[{author_name:"Dresus",id:835,source_id:null,source_name:"tripadvisor",text:'I went to see "The Dark Knight Rises" at the UA IMAX theater in iSquare and was impressed by the quality of the projection, sound and seating. It\'s best to buy tickets ahead online because the theater sells tickets for specific seats. I ended up going to the 9:15AM screening to get a good seat. Five stars for the theater....',written_at:"2012-07-27T00:00:00Z",review_ratings:[{aspect:null,id:835,img_url:null,rating:3,source_name:"tripadvisor"}]},{author_name:"Si-Em",id:834,source_id:null,source_name:"tripadvisor",text:"This is a large shopping centre. Went there a few times, but mainly for the restaurants. The shops aren't to bad, a lot of top branded names, but there is a couple of shops that is more appealing to the normal budget person which isn't going to break the bank! The restaurants there are pretty good, which you can see...",written_at:"2012-11-27T00:00:00Z",review_ratings:[{aspect:null,id:834,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"Brian D",id:833,source_id:null,source_name:"tripadvisor",text:"On the 02 Feb, 2013. My partner and I were doing some supermarket shopping at I SQUARE market place. At first. we got some wine which was on special, when we were at the check out counter, we were charged a higher price. when we quiried the lady at the counter she suggested that they have forgotten to compute this...",written_at:"2013-02-16T00:00:00Z",review_ratings:[{aspect:null,id:833,img_url:null,rating:2,source_name:"tripadvisor"}]},{author_name:"HenriettaHo",id:832,source_id:null,source_name:"tripadvisor",text:"Sitting on the former site of the Hyatt Regency Hong Kong in one of the prime shopping district in Kowloon, one block walking distance from the Hong Kong harbour and just above the busiest subway Station, TST. iSquare has everything under your fingertips. From movies, to high fashion, to jewelleries, watches, supermarket and a lots of restaurants to choose from....",written_at:"2013-02-20T00:00:00Z",review_ratings:[{aspect:null,id:832,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"Emmelle_49",id:831,source_id:null,source_name:"tripadvisor",text:"This brand new shopping mall is located on Kowloon's most crowded street: Nathan Road. When I stared at the iSquare building, I was most impressed by its translucid facade (entirely made of enormous glass panels and steal) through which you see giant escalators connecting the many different floors. So I decided to have a look at this from the inside...",written_at:"2013-02-28T00:00:00Z",review_ratings:[{aspect:null,id:831,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"Chun W",id:830,source_id:null,source_name:"tripadvisor",text:"New modern shopping mall in Kolwoon area, very close to Canton road and Peninsula hotel. Check out the newly open IMAX cinema in HK. Good for afternoon lunch.",written_at:"2013-03-30T00:00:00Z",review_ratings:[{aspect:null,id:830,img_url:null,rating:5,source_name:"tripadvisor"}]},{author_name:"1Tough_customer",id:829,source_id:null,source_name:"tripadvisor",text:"Watched Life of Pi & Skyfall here; glad I did. One of the best public screens and viewing experiences available in HK",written_at:"2013-04-07T00:00:00Z",review_ratings:[{aspect:null,id:829,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"MarcAble",id:828,source_id:null,source_name:"tripadvisor",text:"What got me are the escalators. There are two . One for a single floor up and the other is to skip three floors. Variety of brand names and the restaurants...voila!!!! from chinese (of course), japanese, korean, italian, vietnamese and all reasonably priced! Even cheaper than eating in small street restaurants. Our bill for two people having two noodle soups,...",written_at:"2013-04-08T00:00:00Z",review_ratings:[{aspect:null,id:828,img_url:null,rating:4,source_name:"tripadvisor"}]},{author_name:"Magellano81",id:827,source_id:null,source_name:"tripadvisor",text:"A normal Mall which is located in the heart of Kowloon, inside multi levels floors there are many shops but frankly nothing so important and relevant. It is accessed by road through long escalators. What's so special about this Mall are the big elevators that rise up to higher levels, each level has restaurants and most of these are luxury...",written_at:"2013-05-06T00:00:00Z",review_ratings:[{aspect:null,id:827,img_url:null,rating:3,source_name:"tripadvisor"}]},{author_name:"Manhel",id:826,source_id:null,source_name:"tripadvisor",text:"quite big shopping Mall with nice variety of restaurants. one you get to the high floors you have a nice view of TST streets.",written_at:"2013-05-18T00:00:00Z",review_ratings:[{aspect:null,id:826,img_url:null,rating:4,source_name:"tripadvisor"}]}]}}]
}(),function(){Ember.Handlebars.helper("capitalize",function(a){if(a){var b=a.charAt(0).toUpperCase()+a.substr(1);return b}console.log("Capitalize Helper: no value included")}),Ember.Handlebars.helper("time_since",function(a){return moment(a).fromNow()}),Ember.Handlebars.helper("star",function(a){for(var b=parseInt(a,10),c='<i class="icon-star"></i>',d='<i class="icon-star-empty"></i>',e=[],f=1;5>=f;f++)b>=f?e.push(c):e.push(d);return new Handlebars.SafeString(e.join(""))})}(),function(){App.DisplayModal=!1,App.ModalType="modal-wait",App.Modal=Ember.View.extend({init:function(){this._super(),this.set("templateName",App.get("ModalType"))},didInsertElement:function(){console.log("DIDINSERT: MODAL")},templateName:null,classNames:["modal"],templateNameChanged:function(){this.rerender()}.observes("templateName"),click:function(a){console.dir(a.target),"close"===a.target.id&&App.set("DisplayModal",!1)},submitButtonView:Ember.View.extend({tagName:"button",classNames:["email","small"],click:function(){return console.log("GlobalViews: modal submit clicked"),this.get("parentView").set("input",""),App.api.submitItinerary(this.get("parentView").get("input")),App.set("ModalType","modal-wait"),this.get("parentView").set("templateName","modal-wait"),setTimeout(function(){App.set("DisplayModal",!1)},2e3),!1}})}),App.EmailButtonView=Ember.View.extend({classNames:["email"],tagName:"button",click:function(){console.log("emailButton clicked"),App.set("ModalType","modal-email"),App.set("DisplayModal",!0)}})}(),function(){App.IndexView=Ember.View.extend({didInsertElement:function(){console.log("DIDINSERT: INDEX")},itineraryButton:Ember.View.extend({tagName:"button",didInsertElement:function(){console.log("DIDINSERT: BUTTON")},click:function(){console.log("IndexView: itineraryButton clicked");var a=this.templateData.keywords.itinerary.id,a=2;App.Itinerary.find(a)?(console.log("IndexView: that itinerary exists or has finished loading"),App.Router.router.transitionTo("itinerary.list")):(console.log("IndexView: that itinerary does not exist. Creating."),App.Itinerary.create(a),this.get("controller").send("waitOn",a))}})})}(),function(){App.ItineraryListView=Ember.View.extend({itemView:Ember.View.extend({tagName:"div",templateName:"itinerary/_itineraryItem",animating:!1,classNameBindings:["animating:animated","animating:shake"],id:function(){return this.templateData.keywords.activity.id}.property("id"),section:function(){return this.templateData.keywords.activity.day_section.id}.property("section"),isRestaurant:function(){return 2===this.templateData.keywords.activity.place.place_category.id?!0:!1}.property("isRestaurant"),click:function(){console.dir(this.get("controller").get("model"))},didInsertElement:function(){console.log("DIDINSERT: ITEM")},isSectionStart:function(){for(var a=this.get("section"),b=this.get("controller").get("activities"),c=-1,d=-1,e=0;e<b.length;e++)if(b[e].day_section.id===a){d=e;break}for(var f=0;f<b.length;f++)if(b[f].id===this.get("id")){c=f;break}return c===d?!0:!1}.property("isSectionStart"),sectionClass:function(){if(!this.get("isSectionStart"))return null;switch(this.get("section")){case 1:return"morning";case 2:return"lunch";case 3:return"afternoon";case 4:return"dinner";case 5:return"evening"}}.property("sectionClass"),didInsertElement:function(){var a=this;this.get("controller").on("reorderFailure",function(){a.shake()})},shake:function(){var a=this;a.set("animating",!0),setTimeout(function(){a.set("animating",!1)},500)},editToggle:Ember.View.extend({tagName:"button",classNames:["editToggle"],click:function(){return console.log("ItineraryListView: reorder requested in View"),this.get("controller").send("editToggle"),!1}}),remove:Ember.View.extend({tagName:"button",classNames:["remove"],click:function(){var a=this.get("parentView").templateData.keywords.activity.id;return console.log("ItineraryListView: remove "+a),this.get("controller").send("remove",a),!1}}),editControls:Ember.View.extend({templateName:"itinerary/_editControls",editToggle:Ember.View.extend({tagName:"button",classNames:["editToggle"],click:function(){return console.log("ItineraryListView: reorder requested in View"),this.get("controller").send("editToggle"),!1}}),up:Ember.View.extend({tagName:"span",classNames:["arrow","up"],click:function(){var a=this.get("parentView").templateData.keywords.activity.id;return console.log("ItineraryListView: move "+a+" up"),this.get("controller").send("up",a),!1}}),down:Ember.View.extend({tagName:"span",classNames:["arrow","down"],click:function(){var a=this.get("parentView").templateData.keywords.activity.id;return console.log("ItineraryListView: move "+a+" down"),this.get("controller").send("down",a),!1}})})})})}(),function(){App.ItineraryMapView=Ember.View.extend({mapView:Ember.View.extend({classNames:["big-map"],didInsertElement:function(){console.log("ItineraryMapView: Map element rendered"),console.log("DIDINSERT: MAP"),this.waitForController()},waitForController:function(){console.log("ItineraryMapView: waiting for Controller to load");var a=this;a.get("controller.loaded")?(console.log("ItineraryMapView: Controller loaded"),a.setMap()):setTimeout(function(){a.waitForController()},500)},setMap:function(){console.log("ItineraryMapView: setting map");var a=this.get("controller.mapSettings"),b=this,c=[];console.log(this.get("element"));var d=new google.maps.Map(this.get("element"),a.myOptions);a.directionsDisplay.setMap(d);var e=new google.maps.InfoWindow({content:null});a.markers.forEach(function(a){a.setMap(d),c.push(a.position),b.listen(d,a,e)}),console.dir(c);var f=new google.maps.Polyline({path:c});f.setMap(d)},listen:function(a,b,c){google.maps.event.addListener(b,"click",function(){c.open(a,b),c.setContent(b.title)})},infoWindowView:Ember.View.extend({templateName:"infoWindow",classNames:["info-window"]})})})}(),function(){App.ItineraryView=Ember.View.extend({didInsertElement:function(){console.log("DIDINSERT: ITINERARY")},itineraryTabs:Ember.View.extend({didInsertElement:function(){console.log("DIDINSERT: ITINERARYTABS")},templateName:"itinerary/_itineraryTabs",classNames:["nav","nav-tabs"],tagName:"ul"})})}(),function(){App.FooView=Ember.View.extend({foo:"bar",map:null,init:function(){this._super(),console.log("Map element rendered, our element is "),console.dir(this)},didInsertElement:function(){},getMapSettings:function(){console.log("MapController getting map variables");var a={};return a.markers=[],a.directionsService=new google.maps.DirectionsService,a.directionsDisplay=new google.maps.DirectionsRenderer,a.latLng=new google.maps.LatLng,a.myOptions={center:new google.maps.LatLng(App.Itinerary.find(2).activities[0].place.lat,App.Itinerary.find(2).activities[0].place.lng),zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP},a},getMapMarkers:function(a){return console.log("MapController getting map markers"),App.Itinerary.find(2).activities.forEach(function(b){latLng=new google.maps.LatLng(b.place.lat,b.place.lng);var c=new google.maps.Marker({position:latLng});a.markers.push(c)}),a},setMap:function(){console.log("MapController setting map"),console.log("in setmap, the target element is "),console.dir(this.element);var a=this.getMapSettings();this.getMapMarkers(a);var b=new google.maps.Map(this.element,a.myOptions);a.directionsDisplay.setMap(b)},getRoute:function(){}})}(),function(){App.PlaceView=Ember.View.extend({didInsertElement:function(){console.log("PlaceView: inserted"),console.dir(this.get("controller"))},infoView:Ember.View.extend({templateName:"place/info",classNames:["info"]}),reviewView:Ember.View.extend({templateName:"place/reviews",classNames:["reviews"]}),littleMapView:Ember.View.extend({templateName:"place/little-map",classNames:"little-map",didInsertElement:function(){console.log("littleMapView: inserted map element"),console.dir(this),console.dir(this.get("parentView").get("model")),this.waitForController()},waitForController:function(){console.log("PlaceView: waiting for Controller to load");var a=this;a.get("controller.loaded")?(console.log("PlaceView: Controller loaded"),a.setMap()):setTimeout(function(){a.waitForController()},500)},setMap:function(){console.log("littleMapView: setting map with settings"),console.dir(this.get("parentView").get("controller.mapSettings"));var a=this.get("parentView").get("controller.mapSettings"),b=new google.maps.Map(this.get("element"),a.myOptions);a.directionsDisplay.setMap(b),a.marker.setMap(b)}})})}(),function(){App.api=App.API.create()}();